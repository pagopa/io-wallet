# SD-JWT

A typescript package to verify, read, and present data using [SD-JWT](https://www.ietf.org/archive/id/draft-ietf-oauth-selective-disclosure-jwt-04.html) format.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [verify](#verify)
    *   [Parameters](#parameters)

### verify

Verify a token is a valid SD-JWT with disclosures.
It verifies the first part is a valid JWT.
It also verifies each disclosure is well-formed and its values are consistent
with the claims exposed in the SD-JWT.
It returns the parsed JWT object along with its related disclosures.
It throws an error if the validation fails.

#### Parameters

*   `token` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The encoded token to be verified
*   `options` **VerifyOptions**&#x20;

    *   `options.jwksUri`  URI of the public endpoint of the emitter

<!---->

*   Throws **any** a verification error

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<VerifyResult>** the parsed token object along with its related disclosures

## Tests

Tests are expected to be written in files that end with `.test.ts`; they are organized in `__tests__` folders placed in the same directory of the module to test.

<details>
  <summary>Example</summary>
  ```
  /src
    |_ __tests__
      |_ file_a.test.ts
    |_ /lib
      |_ __tests__
      | |_ file_b.test.ts
      |_ file_b.ts
    |_ file_a.ts
  ```
</details>

To execute tests, run:

```sh
yarn test
```

The `__tests__` folder at the root of the project is meant to contain tests that check the whole package API - hence they only import `src/index.ts` file users would do.
