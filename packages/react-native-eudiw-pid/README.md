# EUDIW PID for React Naive

Verify and present a EUDIW PID object.

## Usage

Module API support both [`SD-JWT`](https://italia.github.io/eidas-it-wallet-docs/en/pid-data-model.html#id1) and [`MDOC-CBOR`](https://italia.github.io/eidas-it-wallet-docs/en/pid-data-model.html#mdoc-cbor).

```ts
import { SdJwt, MDocCbor } from "react-native-eudiw-pid";
// or
import * as SdJwt from "react-native-eudiw-pid/sd-jwt";
import * as MDocCbor from "react-native-eudiw-pid/mdoc-cbor";
```

## API

### SD-JWT

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

##### Table of Contents

*   [decode](#decode)
    *   [Parameters](#parameters)
*   [verify](#verify)
    *   [Parameters](#parameters-1)
*   [VerifyOptions](#verifyoptions)
    *   [Properties](#properties)
    *   [jwksUri](#jwksuri)
*   [VerifyResult](#verifyresult)
*   [chars](#chars)
*   [b64DecodeUnicode](#b64decodeunicode)
    *   [Parameters](#parameters-2)
*   [Disclosure](#disclosure)
*   [PID](#pid)

#### decode

Decode a given SD-JWT with Disclosures to get the parsed PID object they define.
It ensures provided data is in a valid shape.

It DOES NOT verify token signature nor check disclosures are correctly referenced by the SD-JWT.
Use [verify](#verify) instead

##### Parameters

*   `token` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The encoded token that represents a valid sd-jwt for verifiable credentials

<!---->

*   Throws **any** A decoding error if the token doesn't resolve in a valid SD-JWT
*   Throws **any** A validation error if the provided data doesn't result in a valid PID

Returns **PidWithToken** The validated PID object along with the parsed SD-JWT token and the parsed disclosures

#### verify

Verify a given SD-JWT with Disclosures to get the parsed PID object they define.
Same as [decode](#decode) plus:

*   token signature verification
*   ensure disclosures are well-defined inside the SD-JWT

##### Parameters

*   `token` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The encoded token that represents a valid sd-jwt for verifiable credentials
*   `options` **[VerifyOptions](#verifyoptions)**&#x20;

<!---->

*   Throws **any** A decoding error if the token doesn't resolve in a valid SD-JWT
*   Throws **any** A validation error if the provided data doesn't result in a valid PID
*   Throws **any** A validation error if the provided disclosures are not defined in the SD-JWT
*   Throws **any** Invalid signature error if the token signature is not valid

Returns **[VerifyResult](#verifyresult)** The validated PID object along with the parsed SD-JWT token and the parsed disclosures

#### VerifyOptions

Options for [verify](#verify)

Type: {jwksUri: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)}

##### Properties

*   `jwksUri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;

##### jwksUri

URI of the public endpoint of the issuer

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### VerifyResult

Result object for [verify](#verify)

Type: PidWithToken

#### chars

The code was extracted from:
<https://github.com/davidchambers/Base64.js>

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### b64DecodeUnicode

The code was extracted from:
<https://github.com/auth0/jwt-decode>

##### Parameters

*   `str` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;

#### Disclosure

*   **See**: <https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt-04>
*   **See**: <https://vcstuff.github.io/draft-terbu-sd-jwt-vc/draft-terbu-oauth-sd-jwt-vc.html>

A triple of values in the form of {salt, claim name, claim value} that represent a parsed disclosure.

Type: z.infer\<any>

#### PID

*   **See**: <https://italia.github.io/eidas-it-wallet-docs/en/pid-data-model.html>

Data structure for the PID.
It contains PID claims in plain text as well as verification data with the issuer's information

Type: z.infer\<any>

### MDOC-CBOR

TBD
