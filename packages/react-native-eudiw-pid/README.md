# EUDIW PID for React Naive

Verify and present a EUDIW PID object.

## Usage

Module API support both [`SD-JWT`](https://italia.github.io/eidas-it-wallet-docs/en/pid-data-model.html#id1) and [`MDOC-CBOR`](https://italia.github.io/eidas-it-wallet-docs/en/pid-data-model.html#mdoc-cbor).

```ts
import { SdJwt, MDocCbor} from "react-native-eudiw-pid";
// or
import * as SdJwt from "react-native-eudiw-pid/sd-jwt";
import * as MDocCbor from "react-native-eudiw-pid/mdoc-cbor";
```

## API

### SD-JWT

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

##### Table of Contents

*   [decode](#decode)
    *   [Parameters](#parameters)
*   [verify](#verify)
    *   [Parameters](#parameters-1)
*   [VerifyOptions](#verifyoptions)
    *   [Properties](#properties)
    *   [jwksUri](#jwksuri)
*   [VerifyResult](#verifyresult)
    *   [Properties](#properties-1)
    *   [pid](#pid)
    *   [sdJwt](#sdjwt)
    *   [disclosures](#disclosures)
*   [Verification](#verification)
    *   [Properties](#properties-2)
*   [ObfuscatedVerification](#obfuscatedverification)
*   [PID](#pid-1)
    *   [Properties](#properties-3)
*   [Disclosure](#disclosure)

#### decode

Decode a given SD-JWT to get its readable header and payload

##### Parameters

*   `token` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The encoded token

<!---->

*   Throws **any** A decoding error

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<SdJwt4VC>** the parsed token object

#### verify

Verify a token is a valid SD-JWT with disclosures.
It verifies the first part is a valid JWT.
It also verifies each disclosure is well-formed and its values are consistent
with the claims exposed in the SD-JWT.
It returns the PID, along with the parsed SD-JWT object and its related disclosures.
It throws an error if the validation fails.

##### Parameters

*   `token` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The encoded token to be verified
*   `options` **[VerifyOptions](#verifyoptions)**&#x20;

    *   `options.jwksUri`  URI of the public endpoint of the emitter

<!---->

*   Throws **any** A verification error

Returns **[VerifyResult](#verifyresult)** The parsed token object along with its related disclosures

#### VerifyOptions

Options for [verify](#verify)

Type: {jwksUri: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)}

##### Properties

*   `jwksUri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;

##### jwksUri

URI of the public endpoint of the emitter

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### VerifyResult

Result object for [verify](#verify)

Type: {pid: [PID](#pid), sdJwt: SdJwt4VC, disclosures: [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)<[Disclosure](#disclosure)>}

##### Properties

*   `pid` **[PID](#pid)**&#x20;
*   `sdJwt` **SdJwt4VC**&#x20;
*   `disclosures` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)<[Disclosure](#disclosure)>**&#x20;

##### pid

The object with the parsed data for PID

Type: [PID](#pid)

##### sdJwt

The object with the parsed SD-JWT token that shipped the PID.
It will be needed to present PID data.

Type: SdJwt4VC

##### disclosures

Parsed list of discloures with PID values.
It will be needed to present PID data.

Type: [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)<[Disclosure](#disclosure)>

#### Verification

*   **See**: <https://italia.github.io/eidas-it-wallet-docs/en/pid-data-model.html>

Contain the information as sub claims regarding the identity proofing evidence during the issuing phase of the PID

Type: {trust\_framework: `"eidas"`, assurance\_level: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), evidence: VerificationEvidence}

##### Properties

*   `trust_framework` **`"eidas"`**&#x20;
*   `assurance_level` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
*   `evidence` **VerificationEvidence**&#x20;

#### ObfuscatedVerification

*   **See**: <https://italia.github.io/eidas-it-wallet-docs/en/pid-data-model.html>

Same as Verification, but the evidences are obfuscated and provided as disclosures.
This because the evenidences refers to the User and might reveal personal data.

Type: any

#### PID

*   **See**: <https://italia.github.io/eidas-it-wallet-docs/en/pid-data-model.html>

Data structure for the PID.
It contains PID claims in plain text as well as verification data with emitter' information

Type: {issuer: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), claims: {unique\_id: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), given\_name: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), family\_name: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), birthdate: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), place\_of\_birth: {country: CountryCode, locality: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)}, tax\_id\_number: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)}}

##### Properties

*   `issuer` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
*   `claims` **{unique\_id: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), given\_name: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), family\_name: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), birthdate: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), place\_of\_birth: {country: CountryCode, locality: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)}, tax\_id\_number: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)}**&#x20;

#### Disclosure

*   **See**: <https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt-04>
*   **See**: <https://vcstuff.github.io/draft-terbu-sd-jwt-vc/draft-terbu-oauth-sd-jwt-vc.html>

A triple of values in the form of {salt, claim name, claim value} that represent a parsed disclosure.

Type: \[[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), ([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | Record<[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), [JSON](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON)>)]

### MDOC-CBOR

TBD
